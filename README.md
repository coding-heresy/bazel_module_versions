Grab the versions of all dependent modules using a repo rule in order
to support template expansion and other use cases.

See test/BUILD for an example of this in action.
